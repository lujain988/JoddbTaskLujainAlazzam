<div ng-controller="UserImportController as vm">
    <h2>Import Users from Excel</h2>

    <!-- Display success or error messages -->
    <div ng-if="vm.successMessage" class="alert alert-success">
        {{ vm.successMessage }}
    </div>
    <div ng-if="vm.errorMessage" class="alert alert-danger">
        {{ vm.errorMessage }}
    </div>

    <!-- Loader (Initially hidden) -->
    <div ng-if="vm.isLoading" class="spinner-border text-primary" role="status">
        <span class="sr-only">Loading...</span>
    </div>

    <!-- File upload form -->
    <form ng-submit="vm.uploadFile()" enctype="multipart/form-data">
        <div class="form-group">
            <label for="excelFile">Upload Excel File</label>
            <!-- Use native onchange event to bind to vm.onFileChange -->
            <input type="file" id="excelFile" class="form-control" onchange="angular.element(this).scope().vm.onFileChange(event)" required />
        </div>

        <button type="submit" class="btn btn-primary">Upload</button>
    </form>
</div>
